<%= form_with model: tier, local: true, html: { multipart: true } do |f| %>
  <div class="form-group mb-4">
    <%= f.label :category_id, Tier.human_attribute_name(:category_id), class: 'control-label' %>
    <%= f.select :category_id, @categories.collect { |c| [c.name, c.id] }, {}, { class: 'form-control' } %>
  </div>
  <div class="form-group mb-4">
    <%= f.label :title, Tier.human_attribute_name(:title), class: 'control-label' %>
    <%= f.text_field :title, class: 'form-control' %>
  </div>
  <div class="form-group mb-4">
    <%= f.label :description, Tier.human_attribute_name(:description), class: 'control-label' %>
    <%= f.text_area :description, class: 'form-control' %>
  </div>
  <div class="form-group mb-4">
    <%= f.label :cover_image, Tier.human_attribute_name(:cover_image), class: 'control-label d-block' %>
    <%= f.file_field :cover_image, accept: 'image/png,image/jpeg', class: 'form-control-file' %>
  </div>
  <div class="form-group mb-4">
    <%= f.label :images, Tier.human_attribute_name(:images), class: 'control-label d-block' %>
    <%= f.file_field :images, accept: 'image/png,image/jpeg', class: 'form-control-file', multiple: true, id: 'image-upload' %>
  </div>
  <div class="form-group mb-4">
    <label class='control-label'><%= t('.rank') %></label>
    <%= f.hidden_field :default_rank, value: 'unranked' %>
    <%= f.hidden_field :rank_column_num, value: @rank_column_num %>
    <%= render partial: 'dynamic_field', locals: { f: f, collection: @tier_ranks, field_prefix: "rank" } %>
    <%= render partial: 'button_group', locals: { type: 'rank' } %>
  </div>
  <div class="form-group mb-4">
    <label class='control-label'><%= t('.category') %></label>
    <%= f.hidden_field :default_category, value: 'uncategorized' %>
    <%= f.hidden_field :category_column_num, value: @category_column_num %>
    <%= render partial: 'dynamic_field', locals: { f: f, collection: @tier_categories, field_prefix: "category" } %>
    <%= render partial: 'button_group', locals: { type: 'category' } %>
  </div>

  <%= f.submit tier_form_button, class: 'btn btn-primary' %>
<% end %>
